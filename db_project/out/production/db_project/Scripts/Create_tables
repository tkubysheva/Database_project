CREATE TABLE  "THEATER_WORKER"
(	"ID" NUMBER,
	"FIRST_NAME" VARCHAR2(20) NOT NULL ENABLE,
	"LAST_NAME" VARCHAR2(20) NOT NULL ENABLE,
	"EMPLOYMENT_DAY" DATE NOT NULL ENABLE,
	"GENDER" VARCHAR2(20),
	"BIRTHDAY" DATE,
	"SALARY" NUMBER NOT NULL ENABLE,
	"CHILDRENS" NUMBER,
	 PRIMARY KEY ("ID") ENABLE
);

CREATE TABLE  "PRODUCER"
   (	"ID" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "THEATER_WORKER" ("ID") ENABLE
   );

CREATE TABLE  "MUSICIAN"
   (	"ID" NUMBER,
	"INSTRUMENT" VARCHAR2(20),
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "THEATER_WORKER" ("ID") ENABLE
   );

CREATE TABLE  "ACTOR"
(	"ID" NUMBER,
	"HEIGHT" NUMBER,
	"WEIGHT" NUMBER,
	"VOICE" VARCHAR2(3),
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	 REFERENCES  "THEATER_WORKER" ("ID") ENABLE
   );

CREATE TABLE  "STAGE_DIRECTOR"
   (	"ID" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "PRODUCER" ("ID") ENABLE
   );

   CREATE TABLE  "ART_DIRECTOR"
   (	"ID" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "PRODUCER" ("ID") ENABLE
   );
   CREATE TABLE  "CONDUCTOR_DIRECTOR"
      (	"ID" NUMBER,
   	 PRIMARY KEY ("ID") ENABLE,
   	 FOREIGN KEY ("ID")
   	  REFERENCES  "PRODUCER" ("ID") ENABLE
      );

   CREATE TABLE  "DIRECTOR"
      (	"ID" NUMBER,
   	 PRIMARY KEY ("ID") ENABLE,
   	 FOREIGN KEY ("ID")
   	  REFERENCES  "THEATER_WORKER" ("ID") ENABLE
      );

   CREATE TABLE  "EMPLOYEE"
      (	"ID" NUMBER NOT NULL ENABLE,
   	 PRIMARY KEY ("ID") ENABLE,
   	 FOREIGN KEY ("ID")
   	  REFERENCES  "THEATER_WORKER" ("ID") ENABLE
      );

CREATE TABLE  "SUBSCRIPTION"
   (	"ID" NUMBER,
	 PRIMARY KEY ("ID") ENABLE
   );

CREATE TABLE  "AGE_CATEGORY"
   (	"ID" NUMBER,
	"NAME" VARCHAR2(20),
	 PRIMARY KEY ("ID") ENABLE
   );

CREATE TABLE  "AUTHOR"
   (	"ID" NUMBER,
	"COUNTRY" VARCHAR2(20),
	"CENTURY" NUMBER,
	"NAME" VARCHAR2(50),
	 PRIMARY KEY ("ID") ENABLE
   );

CREATE TABLE  "AUTHOR_SUBSCRIPTION"
   (	"ID" NUMBER,
	"AUTHOR_ID" NUMBER,
	"PRICE" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("AUTHOR_ID")
	  REFERENCES  "AUTHOR" ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "SUBSCRIPTION" ("ID") ENABLE
   );

CREATE TABLE  "GENRE"
   (	"ID" NUMBER,
	"NAME" VARCHAR2(20),
	 PRIMARY KEY ("ID") ENABLE
   );

CREATE TABLE  "GENRE_SUBSCRIPTION"
   (	"ID" NUMBER,
	"GENRE_ID" NUMBER,
	"PRICE" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ID")
	  REFERENCES  "SUBSCRIPTION" ("ID") ENABLE,
	 FOREIGN KEY ("GENRE_ID")
	  REFERENCES  "GENRE" ("ID") ENABLE
   );

CREATE TABLE  "SPECTACLE"
   (	"ID" NUMBER,
	"ART_DIRECTOR_ID" NUMBER,
	"CONDUCTOR_DIRECTOR_ID" NUMBER,
	"STAGE_DIRECTOR_ID" NUMBER,
	"AUTHOR_ID" NUMBER,
	"NAME" VARCHAR2(50),
	"GENRE_ID" NUMBER,
	"AGE_CATEGORY_ID" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("ART_DIRECTOR_ID")
	  REFERENCES  "ART_DIRECTOR" ("ID") ENABLE,
	 FOREIGN KEY ("CONDUCTOR_DIRECTOR_ID")
	  REFERENCES  "CONDUCTOR_DIRECTOR" ("ID") ENABLE,
	 FOREIGN KEY ("STAGE_DIRECTOR_ID")
	  REFERENCES  "STAGE_DIRECTOR" ("ID") ENABLE,
	 FOREIGN KEY ("AUTHOR_ID")
	  REFERENCES  "AUTHOR" ("ID") ENABLE,
	 FOREIGN KEY ("GENRE_ID")
	  REFERENCES  "GENRE" ("ID") ENABLE,
	 FOREIGN KEY ("AGE_CATEGORY_ID")
	  REFERENCES  "AGE_CATEGORY" ("ID") ENABLE
   );

CREATE TABLE  "REPERTOIRE"
   (	"ID" NUMBER,
	"SPECTACLE_ID" NUMBER,
	"DATE_TIME" DATE,
	"PREMIERE_DATE" DATE,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("SPECTACLE_ID")
	  REFERENCES  "SPECTACLE" ("ID") ENABLE
   );

CREATE TABLE  "TICKET"
   (	"ID" NUMBER,
	"REPERTOIRE_NUMBER" NUMBER,
	"N_SITE" NUMBER,
	"N_ROW" NUMBER,
	"PRICE" NUMBER,
	 PRIMARY KEY ("ID") ENABLE,
	 FOREIGN KEY ("REPERTOIRE_NUMBER")
	  REFERENCES  "REPERTOIRE" ("ID") ENABLE
   );

CREATE TABLE  "CASH_REGISTER"
   (	"PURCHASE_ID" NUMBER,
	"TICKET_ID" NUMBER,
	"SUBSCRIPTION_ID" NUMBER,
	 PRIMARY KEY ("PURCHASE_ID") ENABLE,
	 FOREIGN KEY ("TICKET_ID")
	  REFERENCES  "TICKET" ("ID") ENABLE,
	 FOREIGN KEY ("SUBSCRIPTION_ID")
	  REFERENCES  "SUBSCRIPTION" ("ID") ENABLE
   );


CREATE SEQUENCE sq_a_SUBSCRIPTION
START WITH 2
INCREMENT BY 2
NOMAXVALUE;

CREATE SEQUENCE sq_g_SUBSCRIPTION
START WITH 1
INCREMENT BY 2
NOMAXVALUE;

CREATE SEQUENCE sq_THEATER_WORKER
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_SPECTACLE
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_REPERTOIRE
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_AGE_CATEGORY
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_TICKET
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_genre
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_author
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE sq_cash
START WITH 1
INCREMENT BY 1
NOMAXVALUE;
